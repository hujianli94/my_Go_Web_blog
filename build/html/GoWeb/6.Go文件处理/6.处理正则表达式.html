<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>6.6. 处理正则表达式 &mdash; 小健Go Web开发实战学习</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="7. Go并发编程" href="../7.Go%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/index.html" />
    <link rel="prev" title="6.5. 处理日志记录" href="5.%E5%A4%84%E7%90%86%E6%97%A5%E5%BF%97%E8%AE%B0%E5%BD%95.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> 小健_Go_Web开发实战学习
            <img src="../../_static/goweb.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Go Web开发实战学习</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../1.Go%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/index.html">1. Go基础入门</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2.Go-Web%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/index.html">2. Go-Web开发基础</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3.%E6%8E%A5%E6%94%B6%E5%92%8C%E5%A4%84%E7%90%86Go-Web%E8%AF%B7%E6%B1%82/index.html">3. 接收和处理Go-Web请求</a></li>
<li class="toctree-l2"><a class="reference internal" href="../4.%E4%BD%BF%E7%94%A8Go%E8%AE%BF%E9%97%AE%E6%95%B0%E6%8D%AE%E5%BA%93/index.html">4. 使用Go访问数据库</a></li>
<li class="toctree-l2"><a class="reference internal" href="../5.Go%E9%AB%98%E7%BA%A7%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/index.html">5. Go高级网络编程</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">6. Go文件处理</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="1.%E5%A4%84%E7%90%86%E7%9B%AE%E5%BD%95%E4%B8%8E%E6%96%87%E4%BB%B6.html">6.1. 处理目录与文件</a></li>
<li class="toctree-l3"><a class="reference internal" href="2.%E5%A4%84%E7%90%86XML%E6%96%87%E4%BB%B6.html">6.2. 处理XML文件</a></li>
<li class="toctree-l3"><a class="reference internal" href="3.%E5%A4%84%E7%90%86JSON%E6%96%87%E4%BB%B6.html">6.3. 处理JSON文件</a></li>
<li class="toctree-l3"><a class="reference internal" href="4.%E5%A4%84%E7%90%86CSV%E6%96%87%E4%BB%B6.html">6.4. 处理CSV文件</a></li>
<li class="toctree-l3"><a class="reference internal" href="5.%E5%A4%84%E7%90%86%E6%97%A5%E5%BF%97%E8%AE%B0%E5%BD%95.html">6.5. 处理日志记录</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">6.6. 处理正则表达式</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id2">6.6.1. 1.正则表达式简介</a></li>
<li class="toctree-l4"><a class="reference internal" href="#go">6.6.2. 2.使用Go正则表达式</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id9">6.6.3. 3. regexp包的应用示例</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id10">6.6.4. 4. 根据正则表达式生成代码</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../7.Go%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/index.html">7. Go并发编程</a></li>
<li class="toctree-l2"><a class="reference internal" href="../8.Go-RESTful-API%E6%8E%A5%E5%8F%A3%E5%BC%80%E5%8F%91/index.html">8. Go-RESTful-API接口开发</a></li>
<li class="toctree-l2"><a class="reference internal" href="../9.%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AAB2C%E7%94%B5%E5%AD%90%E5%95%86%E5%8A%A1%E7%B3%BB%E7%BB%9F/index.html">9. 开发一个B2C电子商务系统</a></li>
<li class="toctree-l2"><a class="reference internal" href="../10.%E4%BD%BF%E7%94%A8Docker%E9%83%A8%E7%BD%B2GO_Web%E5%BA%94%E7%94%A8/index.html">10. 使用Docker部署GO_Web应用</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">小健_Go_Web开发实战学习</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../index.html">Go Web开发实战学习</a> &raquo;</li>
          <li><a href="index.html"><span class="section-number">6. </span>Go文件处理</a> &raquo;</li>
      <li><span class="section-number">6.6. </span>处理正则表达式</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/GoWeb/6.Go文件处理/6.处理正则表达式.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#id1" id="id11">处理正则表达式</a></p>
<ul>
<li><p><a class="reference internal" href="#id2" id="id12">1.正则表达式简介</a></p></li>
<li><p><a class="reference internal" href="#go" id="id13">2.使用Go正则表达式</a></p>
<ul>
<li><p><a class="reference internal" href="#regexp" id="id14">2.1 regexp包的常用函数</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id9" id="id15">3. regexp包的应用示例</a></p></li>
<li><p><a class="reference internal" href="#id10" id="id16">4. 根据正则表达式生成代码</a></p></li>
</ul>
</li>
</ul>
</div>
<section id="id1">
<h1><a class="toc-backref" href="#id11"><span class="section-number">6.6. </span>处理正则表达式</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<section id="id2">
<h2><a class="toc-backref" href="#id12"><span class="section-number">6.6.1. </span>1.正则表达式简介</a><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>正则表达式特点：</p>
<ol class="arabic simple">
<li><p>灵活性、逻辑性和功能性非常强。</p></li>
<li><p>简单方式实现字符串的复杂控制。</p></li>
<li><p>晦涩难懂。</p></li>
</ol>
<p>正则表达式提高文本处理能力，用于表单输入验证、文本提取、数据分析等。</p>
<p>正则表达式由普通字符（<code class="docutils literal notranslate"><span class="pre">a~z</span></code>、<code class="docutils literal notranslate"><span class="pre">A~Z</span></code>、<code class="docutils literal notranslate"><span class="pre">0~9</span></code>等）和特殊字符（元字符）组成。</p>
</section>
<section id="go">
<h2><a class="toc-backref" href="#id13"><span class="section-number">6.6.2. </span>2.使用Go正则表达式</a><a class="headerlink" href="#go" title="Permalink to this headline">¶</a></h2>
<p>参考标准库文档：</p>
<p><a class="reference external" href="https://studygolang.com/pkgdoc">https://studygolang.com/pkgdoc</a></p>
<p><a class="reference external" href="https://zhuanlan.zhihu.com/p/396375666">https://zhuanlan.zhihu.com/p/396375666</a></p>
<section id="regexp">
<h3><a class="toc-backref" href="#id14">2.1 regexp包的常用函数</a><a class="headerlink" href="#regexp" title="Permalink to this headline">¶</a></h3>
<section id="id3">
<h4>1.获取正则对象<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h4>
<div class="highlight-go notranslate"><div class="highlight"><pre><span></span><span class="kd">func</span> <span class="nx">Compile</span><span class="p">(</span><span class="nx">expr</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="o">*</span><span class="nx">Regexp</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span>
<span class="kd">func</span> <span class="nx">MustCompile</span><span class="p">(</span><span class="nx">str</span> <span class="kt">string</span><span class="p">)</span> <span class="o">*</span><span class="nx">Regexp</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">MustCompile()</span></code>函数失败会宕机。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>reg, err := regexp.Compile(`\d+`)
reg := regexp.MustCompile(`\d+`)
</pre></div>
</div>
</section>
<section id="id4">
<h4>2.匹配检测<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h4>
<div class="highlight-go notranslate"><div class="highlight"><pre><span></span><span class="kd">func</span> <span class="p">(</span><span class="nx">re</span> <span class="o">*</span><span class="nx">Regexp</span><span class="p">)</span> <span class="nx">MatchString</span><span class="p">(</span><span class="nx">s</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">bool</span>
<span class="kd">func</span> <span class="p">(</span><span class="nx">re</span> <span class="o">*</span><span class="nx">Regexp</span><span class="p">)</span> <span class="nx">Match</span><span class="p">(</span><span class="nx">b</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">)</span> <span class="kt">bool</span>
</pre></div>
</div>
<div class="highlight-go notranslate"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
    <span class="s">&quot;fmt&quot;</span>
    <span class="s">&quot;regexp&quot;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">text</span> <span class="o">:=</span> <span class="s">&quot;Hello Gopher, Hello Go Web&quot;</span>
    <span class="nx">reg</span> <span class="o">:=</span> <span class="nx">regexp</span><span class="p">.</span><span class="nx">MustCompile</span><span class="p">(</span><span class="s">`\w+`</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">reg</span><span class="p">.</span><span class="nx">MatchString</span><span class="p">(</span><span class="nx">text</span><span class="p">))</span> <span class="c1">//true</span>

    <span class="nx">match</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">regexp</span><span class="p">.</span><span class="nx">MatchString</span><span class="p">(</span><span class="s">&quot;H(.*)d!&quot;</span><span class="p">,</span> <span class="s">&quot;Hello World!&quot;</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">match</span><span class="p">)</span> <span class="c1">//true</span>

    <span class="nx">match</span><span class="p">,</span> <span class="nx">_</span> <span class="p">=</span> <span class="nx">regexp</span><span class="p">.</span><span class="nx">Match</span><span class="p">(</span><span class="s">&quot;H(.*)d!&quot;</span><span class="p">,</span> <span class="p">[]</span><span class="nb">byte</span><span class="p">(</span><span class="s">&quot;Hello World!&quot;</span><span class="p">))</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">match</span><span class="p">)</span> <span class="c1">//true</span>

    <span class="nx">r</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">regexp</span><span class="p">.</span><span class="nx">Compile</span><span class="p">(</span><span class="s">&quot;H(.*)d!&quot;</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">MatchString</span><span class="p">(</span><span class="s">&quot;Hello World!&quot;</span><span class="p">))</span> <span class="c1">//true</span>

<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-go notranslate"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
    <span class="s">&quot;fmt&quot;</span>
    <span class="s">&quot;regexp&quot;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">re</span> <span class="o">:=</span> <span class="nx">regexp</span><span class="p">.</span><span class="nx">MustCompile</span><span class="p">(</span><span class="s">`who(o*)a(a|m)i`</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%q\n&quot;</span><span class="p">,</span> <span class="nx">re</span><span class="p">.</span><span class="nx">FindStringSubmatch</span><span class="p">(</span><span class="s">&quot;-whooooaai-&quot;</span><span class="p">))</span> <span class="c1">//[&quot;whooooaai&quot; &quot;ooo&quot; &quot;a&quot;]</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%q\n&quot;</span><span class="p">,</span> <span class="nx">re</span><span class="p">.</span><span class="nx">FindStringSubmatch</span><span class="p">(</span><span class="s">&quot;-whoami-&quot;</span><span class="p">))</span>    <span class="c1">//[&quot;whoami&quot; &quot;&quot; &quot;m&quot;]</span>

    <span class="c1">//</span>
    <span class="c1">//re := regexp.MustCompile(`w(a*)i`)</span>
    <span class="c1">//fmt.Printf(&quot;%q\n&quot;, re.FindAllStringSubmatch(&quot;-wi-&quot;, -1))</span>
    <span class="c1">//fmt.Printf(&quot;%q\n&quot;, re.FindAllStringSubmatch(&quot;-waaai-&quot;, -1))</span>
    <span class="c1">//fmt.Printf(&quot;%q\n&quot;, re.FindAllStringSubmatch(&quot;-wi-wai-&quot;, -1))</span>
    <span class="c1">//fmt.Printf(&quot;%q\n&quot;, re.FindAllStringSubmatch(&quot;-waaaaai-wi-&quot;, -1))</span>

    <span class="c1">//re := regexp.MustCompile(`wh(|o)`)</span>
    <span class="c1">//fmt.Println(re.FindString(&quot;who&quot;))</span>
    <span class="c1">//re.Longest()</span>
    <span class="c1">//fmt.Println(re.FindString(&quot;who&quot;))</span>

    <span class="c1">//re := regexp.MustCompile(`w(a*)i`)</span>
    <span class="c1">//re.Longest()</span>
    <span class="c1">//fmt.Println(re.FindString(&quot;-waaaaai-wi-&quot;)) // waaaaai，不会存在第一个w和最后一个i组合的过程。</span>

    <span class="c1">//re1 := regexp.MustCompile(`w.`)</span>
    <span class="c1">//fmt.Printf(&quot;%d\n&quot;, re1.NumSubexp())</span>
    <span class="c1">//</span>
    <span class="c1">//re2 := regexp.MustCompile(`(.*)((w)eb)(.*)w`)</span>
    <span class="c1">//fmt.Println(re2.NumSubexp())</span>

    <span class="c1">//re := regexp.MustCompile(`w(a*)i`)</span>
    <span class="c1">//fmt.Printf(&quot;%s\n&quot;, re.ReplaceAll([]byte(&quot;-wi-waaaaai-&quot;), []byte(&quot;T&quot;)))</span>
    <span class="c1">//// $1表示匹配的第一个子串，这是wi的中间无字符串，所以$1为空，然后使用空去替换满足正则表达式的部分。</span>
    <span class="c1">//fmt.Printf(&quot;%s\n&quot;, re.ReplaceAll([]byte(&quot;-wi-waaaaai-&quot;), []byte(&quot;$1&quot;)))</span>
    <span class="c1">//// &quot;$1W&quot;等价与&quot;$(1W)&quot;，值为空，将满足条件的部分完全替换为空。</span>
    <span class="c1">//fmt.Printf(&quot;%s\n&quot;, re.ReplaceAll([]byte(&quot;-wi-waaaaai-&quot;), []byte(&quot;$1W&quot;)))</span>
    <span class="c1">//// ${1}匹配(x*)，保留</span>
    <span class="c1">//fmt.Printf(&quot;%s\n&quot;, re.ReplaceAll([]byte(&quot;-wi-waaaaai-&quot;), []byte(&quot;${1}W&quot;)))</span>

    <span class="c1">//s := &quot;Hello Gopher, let&#39;s go!&quot;</span>
    <span class="c1">////定义一个正则表达式reg，匹配Hello或者Go</span>
    <span class="c1">//reg := regexp.MustCompile(`(Hell|G)o`)</span>
    <span class="c1">//</span>
    <span class="c1">//s2 := &quot;2020-08-01,this is a test&quot;</span>
    <span class="c1">////定义一个正则表达式reg2,匹配 YYYY-MM-DD 的日期格式</span>
    <span class="c1">//reg2 := regexp.MustCompile(`(\d{4})-(\d{2})-(\d{2})`)</span>
    <span class="c1">//</span>
    <span class="c1">////最简单的情况，用“T替换”&quot;-ab-axxb-&quot;中符合正则&quot;a(x*)b&quot;的部分</span>
    <span class="c1">//reg3 := regexp.MustCompile(&quot;w(a*)i&quot;)</span>
    <span class="c1">//fmt.Println(reg3.ReplaceAllString(&quot;-wi-waai-&quot;, &quot;T&quot;))</span>
    <span class="c1">//</span>
    <span class="c1">////${1}匹配&quot;2020-08-01,this is a test&quot;中符合正则`(Hell|G)`的部分并保留，去掉&quot;Hello&quot;与&quot;Go&quot;中的&#39;o&#39;并用&quot;hi&quot;追加</span>
    <span class="c1">//rep1 := &quot;${1}hi&quot;</span>
    <span class="c1">//fmt.Printf(&quot;%q\n&quot;, reg.ReplaceAllString(s, rep1))</span>
    <span class="c1">//</span>
    <span class="c1">////首先，&quot;2020-08-01,this is a test&quot;中符合正则表达式`(\d{4})-(\d{2})-(\d{2})`的部分是&quot;2020-08-01&quot;,将该部分匹配&#39;(\d{4})&#39;的&#39;2020&#39;保留，去掉剩余部分</span>
    <span class="c1">//rep2 := &quot;${1}&quot;</span>
    <span class="c1">//fmt.Printf(&quot;%q\n&quot;, reg2.ReplaceAllString(s2,rep2))</span>
    <span class="c1">//</span>
    <span class="c1">////首先，&quot;2020-08-01,this is a test&quot;中符合正则表达式`(\d{4})-(\d{2})-(\d{2})`的部分是&quot;2020-08-01&quot;,将该部分匹配&#39;(\d{2})&#39;的&#39;08&#39;保留，去掉剩余部分</span>
    <span class="c1">//rep3 := &quot;${2}&quot;</span>
    <span class="c1">//fmt.Printf(&quot;%q\n&quot;, reg2.ReplaceAllString(s2,rep3))</span>
    <span class="c1">//</span>
    <span class="c1">////首先，&quot;2020-08-01,this is a test&quot;中符合正则表达式`(\d{4})-(\d{2})-(\d{2})`的部分是&quot;2020-08-01&quot;,将该部分匹配&#39;(\d{2})&#39;的&#39;01&#39;保留，去掉剩余部分,并追加&quot;13:30:12&quot;</span>
    <span class="c1">//rep4 := &quot;${3}:15:25:12&quot;</span>
    <span class="c1">//fmt.Printf(&quot;%q\n&quot;, reg2.ReplaceAllString(s2,rep4))</span>

<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="id5">
<h4>3.查找<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h4>
<div class="highlight-go notranslate"><div class="highlight"><pre><span></span><span class="kd">func</span> <span class="p">(</span><span class="nx">re</span> <span class="o">*</span><span class="nx">Regexp</span><span class="p">)</span> <span class="nx">FindString</span><span class="p">(</span><span class="nx">s</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">string</span>       <span class="c1">//返回左侧第一个匹配结果。</span>
</pre></div>
</div>
<div class="highlight-go notranslate"><div class="highlight"><pre><span></span><span class="kd">func</span> <span class="p">(</span><span class="nx">re</span> <span class="o">*</span><span class="nx">Regexp</span><span class="p">)</span> <span class="nx">FindAllString</span><span class="p">(</span><span class="nx">s</span> <span class="kt">string</span><span class="p">,</span> <span class="nx">n</span> <span class="kt">int</span><span class="p">)</span> <span class="p">[]</span><span class="kt">string</span>   <span class="c1">//n限定查找数量，-1不限制。</span>
</pre></div>
</div>
<div class="highlight-go notranslate"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
    <span class="s">&quot;fmt&quot;</span>
    <span class="s">&quot;regexp&quot;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">text</span> <span class="o">:=</span> <span class="s">&quot;Hello Gopher, Hello Go Web&quot;</span>
    <span class="nx">reg</span> <span class="o">:=</span> <span class="nx">regexp</span><span class="p">.</span><span class="nx">MustCompile</span><span class="p">(</span><span class="s">`\w+`</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">reg</span><span class="p">.</span><span class="nx">FindAllString</span><span class="p">(</span><span class="nx">text</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>

<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-go notranslate"><div class="highlight"><pre><span></span><span class="kd">func</span> <span class="p">(</span><span class="nx">re</span> <span class="o">*</span><span class="nx">Regexp</span><span class="p">)</span> <span class="nx">FindAll</span><span class="p">(</span><span class="nx">b</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">,</span> <span class="nx">n</span> <span class="kt">int</span><span class="p">)</span> <span class="p">[][]</span><span class="kt">byte</span>
</pre></div>
</div>
<div class="highlight-go notranslate"><div class="highlight"><pre><span></span><span class="kd">func</span> <span class="p">(</span><span class="nx">re</span> <span class="o">*</span><span class="nx">Regexp</span><span class="p">)</span> <span class="nx">FindStringSubmatch</span><span class="p">(</span><span class="nx">s</span> <span class="kt">string</span><span class="p">)</span> <span class="p">[]</span><span class="kt">string</span>
<span class="c1">//FindStringSubmatch返回一段字符串，其中包含s中正则表达式的最左侧匹配项以及的匹配项</span>
</pre></div>
</div>
<div class="highlight-go notranslate"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
    <span class="s">&quot;fmt&quot;</span>
    <span class="s">&quot;regexp&quot;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// re := regexp.MustCompile(`[^eovbgramin]`)</span>
    <span class="c1">// fmt.Println(re.ReplaceAllStringFunc(&quot;I love Go web programming&quot;, strings.ToUpper))</span>

    <span class="c1">// re := regexp.MustCompile(`w(a*)i`)</span>
    <span class="c1">// fmt.Println(re.ReplaceAllLiteralString(&quot;-wi-waai-&quot;, &quot;T&quot;))</span>
    <span class="c1">// fmt.Println(re.ReplaceAllLiteralString(&quot;-wi-waai-&quot;, &quot;$1&quot;))</span>
    <span class="c1">// fmt.Println(re.ReplaceAllLiteralString(&quot;-wi-waai-&quot;, &quot;${1}&quot;))</span>

    <span class="nx">reg</span> <span class="o">:=</span> <span class="nx">regexp</span><span class="p">.</span><span class="nx">MustCompile</span><span class="p">(</span><span class="s">`^http://blog.sina.com.cn/([\d]{4})/([\d]{2})/([\d]{2})/([\w-]+).html$`</span><span class="p">)</span>
    <span class="nx">params</span> <span class="o">:=</span> <span class="nx">reg</span><span class="p">.</span><span class="nx">FindStringSubmatch</span><span class="p">(</span><span class="s">&quot;http://blog.sina.com.cn/2020/08/20/blog_dfcfef2f0102yyd1.html&quot;</span><span class="p">)</span>
    <span class="c1">// 返回[]string{}数据类型</span>
    <span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">param</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">params</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">param</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-go notranslate"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
    <span class="s">&quot;fmt&quot;</span>
    <span class="s">&quot;regexp&quot;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">text</span> <span class="o">:=</span> <span class="s">`Hi,Gopher,Enjoy learning Go Web,加油！`</span>

    <span class="c1">// 查找连续的小写字母</span>
    <span class="nx">reg</span> <span class="o">:=</span> <span class="nx">regexp</span><span class="p">.</span><span class="nx">MustCompile</span><span class="p">(</span><span class="s">`[a-z]+`</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%q\n&quot;</span><span class="p">,</span> <span class="nx">reg</span><span class="p">.</span><span class="nx">FindAllString</span><span class="p">(</span><span class="nx">text</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>

    <span class="c1">// 查找连续的非小写字母</span>
    <span class="nx">reg</span> <span class="p">=</span> <span class="nx">regexp</span><span class="p">.</span><span class="nx">MustCompile</span><span class="p">(</span><span class="s">`[^a-z]+`</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%q\n&quot;</span><span class="p">,</span> <span class="nx">reg</span><span class="p">.</span><span class="nx">FindAllString</span><span class="p">(</span><span class="nx">text</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>

    <span class="c1">// 查找连续的单词字母</span>
    <span class="nx">reg</span> <span class="p">=</span> <span class="nx">regexp</span><span class="p">.</span><span class="nx">MustCompile</span><span class="p">(</span><span class="s">`[\w]+`</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%q\n&quot;</span><span class="p">,</span> <span class="nx">reg</span><span class="p">.</span><span class="nx">FindAllString</span><span class="p">(</span><span class="nx">text</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>

    <span class="c1">// 查找连续的非单词字母、非空白字符</span>
    <span class="nx">reg</span> <span class="p">=</span> <span class="nx">regexp</span><span class="p">.</span><span class="nx">MustCompile</span><span class="p">(</span><span class="s">`[^\w\s]+`</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%q\n&quot;</span><span class="p">,</span> <span class="nx">reg</span><span class="p">.</span><span class="nx">FindAllString</span><span class="p">(</span><span class="nx">text</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>

    <span class="c1">// 查找连续的大写字母</span>
    <span class="nx">reg</span> <span class="p">=</span> <span class="nx">regexp</span><span class="p">.</span><span class="nx">MustCompile</span><span class="p">(</span><span class="s">`[[:upper:]]+`</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%q\n&quot;</span><span class="p">,</span> <span class="nx">reg</span><span class="p">.</span><span class="nx">FindAllString</span><span class="p">(</span><span class="nx">text</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>

    <span class="c1">// 查找连续的非 ASCII 字符</span>
    <span class="nx">reg</span> <span class="p">=</span> <span class="nx">regexp</span><span class="p">.</span><span class="nx">MustCompile</span><span class="p">(</span><span class="s">`[[:^ascii:]]+`</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%q\n&quot;</span><span class="p">,</span> <span class="nx">reg</span><span class="p">.</span><span class="nx">FindAllString</span><span class="p">(</span><span class="nx">text</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>

    <span class="c1">// 查找连续的标点符号</span>
    <span class="nx">reg</span> <span class="p">=</span> <span class="nx">regexp</span><span class="p">.</span><span class="nx">MustCompile</span><span class="p">(</span><span class="s">`[\pP]+`</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%q\n&quot;</span><span class="p">,</span> <span class="nx">reg</span><span class="p">.</span><span class="nx">FindAllString</span><span class="p">(</span><span class="nx">text</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>

    <span class="c1">// 查找连续的非标点符号字符</span>
    <span class="nx">reg</span> <span class="p">=</span> <span class="nx">regexp</span><span class="p">.</span><span class="nx">MustCompile</span><span class="p">(</span><span class="s">`[\PP]+`</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%q\n&quot;</span><span class="p">,</span> <span class="nx">reg</span><span class="p">.</span><span class="nx">FindAllString</span><span class="p">(</span><span class="nx">text</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>

    <span class="c1">// 查找连续的汉字</span>
    <span class="nx">reg</span> <span class="p">=</span> <span class="nx">regexp</span><span class="p">.</span><span class="nx">MustCompile</span><span class="p">(</span><span class="s">`[\p{Han}]+`</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%q\n&quot;</span><span class="p">,</span> <span class="nx">reg</span><span class="p">.</span><span class="nx">FindAllString</span><span class="p">(</span><span class="nx">text</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>

    <span class="c1">// 查找连续的非汉字字符</span>
    <span class="nx">reg</span> <span class="p">=</span> <span class="nx">regexp</span><span class="p">.</span><span class="nx">MustCompile</span><span class="p">(</span><span class="s">`[\P{Han}]+`</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%q\n&quot;</span><span class="p">,</span> <span class="nx">reg</span><span class="p">.</span><span class="nx">FindAllString</span><span class="p">(</span><span class="nx">text</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>

    <span class="c1">// 查找 Hello 或 Go</span>
    <span class="nx">reg</span> <span class="p">=</span> <span class="nx">regexp</span><span class="p">.</span><span class="nx">MustCompile</span><span class="p">(</span><span class="s">`Hello|Go`</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%q\n&quot;</span><span class="p">,</span> <span class="nx">reg</span><span class="p">.</span><span class="nx">FindAllString</span><span class="p">(</span><span class="nx">text</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>

    <span class="c1">// 查找行首以 H 开头，以空格结尾的字符串</span>
    <span class="nx">reg</span> <span class="p">=</span> <span class="nx">regexp</span><span class="p">.</span><span class="nx">MustCompile</span><span class="p">(</span><span class="s">`^H.*\s`</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%q\n&quot;</span><span class="p">,</span> <span class="nx">reg</span><span class="p">.</span><span class="nx">FindAllString</span><span class="p">(</span><span class="nx">text</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>

    <span class="c1">// 查找行首以 H 开头，以空白结尾的字符串（非贪婪模式）</span>
    <span class="nx">reg</span> <span class="p">=</span> <span class="nx">regexp</span><span class="p">.</span><span class="nx">MustCompile</span><span class="p">(</span><span class="s">`(?U)^H.*\s`</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%q\n&quot;</span><span class="p">,</span> <span class="nx">reg</span><span class="p">.</span><span class="nx">FindAllString</span><span class="p">(</span><span class="nx">text</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>

    <span class="c1">// 查找以 hello 开头（忽略大小写），以 Go 结尾的字符串</span>
    <span class="nx">reg</span> <span class="p">=</span> <span class="nx">regexp</span><span class="p">.</span><span class="nx">MustCompile</span><span class="p">(</span><span class="s">`(?i:^hello).*Go`</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%q\n&quot;</span><span class="p">,</span> <span class="nx">reg</span><span class="p">.</span><span class="nx">FindAllString</span><span class="p">(</span><span class="nx">text</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>

    <span class="c1">// 查找 Go.</span>
    <span class="nx">reg</span> <span class="p">=</span> <span class="nx">regexp</span><span class="p">.</span><span class="nx">MustCompile</span><span class="p">(</span><span class="s">`\QGo.\E`</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%q\n&quot;</span><span class="p">,</span> <span class="nx">reg</span><span class="p">.</span><span class="nx">FindAllString</span><span class="p">(</span><span class="nx">text</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>

    <span class="c1">// 查找从行首开始，以空格结尾的字符串（非贪婪模式）</span>
    <span class="nx">reg</span> <span class="p">=</span> <span class="nx">regexp</span><span class="p">.</span><span class="nx">MustCompile</span><span class="p">(</span><span class="s">`(?U)^.* `</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%q\n&quot;</span><span class="p">,</span> <span class="nx">reg</span><span class="p">.</span><span class="nx">FindAllString</span><span class="p">(</span><span class="nx">text</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>

    <span class="c1">// 查找以空格开头，到行尾结束，中间不包含空格字符串</span>
    <span class="nx">reg</span> <span class="p">=</span> <span class="nx">regexp</span><span class="p">.</span><span class="nx">MustCompile</span><span class="p">(</span><span class="s">` [^ ]*$`</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%q\n&quot;</span><span class="p">,</span> <span class="nx">reg</span><span class="p">.</span><span class="nx">FindAllString</span><span class="p">(</span><span class="nx">text</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>

    <span class="c1">// 查找“单词边界”之间的字符串</span>
    <span class="nx">reg</span> <span class="p">=</span> <span class="nx">regexp</span><span class="p">.</span><span class="nx">MustCompile</span><span class="p">(</span><span class="s">`(?U)\b.+\b`</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%q\n&quot;</span><span class="p">,</span> <span class="nx">reg</span><span class="p">.</span><span class="nx">FindAllString</span><span class="p">(</span><span class="nx">text</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>

    <span class="c1">// 查找连续 1 次到 4 次的非空格字符，并以 o 结尾的字符串</span>
    <span class="nx">reg</span> <span class="p">=</span> <span class="nx">regexp</span><span class="p">.</span><span class="nx">MustCompile</span><span class="p">(</span><span class="s">`[^ ]{1,4}o`</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%q\n&quot;</span><span class="p">,</span> <span class="nx">reg</span><span class="p">.</span><span class="nx">FindAllString</span><span class="p">(</span><span class="nx">text</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>

    <span class="c1">// 查找 Hello 或 Go</span>
    <span class="nx">reg</span> <span class="p">=</span> <span class="nx">regexp</span><span class="p">.</span><span class="nx">MustCompile</span><span class="p">(</span><span class="s">`(?:Hell|G)o`</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%q\n&quot;</span><span class="p">,</span> <span class="nx">reg</span><span class="p">.</span><span class="nx">FindAllString</span><span class="p">(</span><span class="nx">text</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>

    <span class="c1">// 查找 Hello 或 Go，替换为 Hellooo、Gooo</span>
    <span class="nx">reg</span> <span class="p">=</span> <span class="nx">regexp</span><span class="p">.</span><span class="nx">MustCompile</span><span class="p">(</span><span class="s">`(?:o)`</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%q\n&quot;</span><span class="p">,</span> <span class="nx">reg</span><span class="p">.</span><span class="nx">ReplaceAllString</span><span class="p">(</span><span class="nx">text</span><span class="p">,</span> <span class="s">&quot;${n}ooo&quot;</span><span class="p">))</span>

    <span class="c1">// 交换 Hello 和 Go</span>
    <span class="nx">reg</span> <span class="p">=</span> <span class="nx">regexp</span><span class="p">.</span><span class="nx">MustCompile</span><span class="p">(</span><span class="s">`(Hello)(.*)(Go)`</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%q\n&quot;</span><span class="p">,</span> <span class="nx">reg</span><span class="p">.</span><span class="nx">ReplaceAllString</span><span class="p">(</span><span class="nx">text</span><span class="p">,</span> <span class="s">&quot;$3$2$1&quot;</span><span class="p">))</span>

    <span class="c1">// 特殊字符的查找</span>
    <span class="nx">reg</span> <span class="p">=</span> <span class="nx">regexp</span><span class="p">.</span><span class="nx">MustCompile</span><span class="p">(</span><span class="s">`[\f\t\n\r\v\123\x7F\x{10FFFF}\\\^\$\.\*\+\?\{\}\(\)\[\]\|]`</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%q\n&quot;</span><span class="p">,</span> <span class="nx">reg</span><span class="p">.</span><span class="nx">ReplaceAllString</span><span class="p">(</span><span class="s">&quot;\f\t\n\r\v\123\x7F\U0010FFFF\\^$.*+?{}()[]|&quot;</span><span class="p">,</span> <span class="s">&quot;-&quot;</span><span class="p">))</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="id6">
<h4>4.查找匹配位置<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h4>
</section>
<section id="id7">
<h4>5.替换<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h4>
<div class="highlight-go notranslate"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
    <span class="s">&quot;fmt&quot;</span>
    <span class="s">&quot;regexp&quot;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">re</span> <span class="o">:=</span> <span class="nx">regexp</span><span class="p">.</span><span class="nx">MustCompile</span><span class="p">(</span><span class="s">`Go(\w+)`</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">re</span><span class="p">.</span><span class="nx">ReplaceAllString</span><span class="p">(</span><span class="s">&quot;Hello Gopher,Hello GoLang&quot;</span><span class="p">,</span> <span class="s">&quot;Java$1&quot;</span><span class="p">))</span> <span class="c1">//Hello Javapher,Hello JavaLang</span>

    <span class="nx">text</span> <span class="o">:=</span> <span class="s">&quot;Hello Gopher,Hello Go Web&quot;</span>
    <span class="nx">reg</span> <span class="o">:=</span> <span class="nx">regexp</span><span class="p">.</span><span class="nx">MustCompile</span><span class="p">(</span><span class="s">`\w+`</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">reg</span><span class="p">.</span><span class="nx">MatchString</span><span class="p">(</span><span class="nx">text</span><span class="p">))</span> <span class="c1">//true</span>

<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="id8">
<h4>6.分割<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h4>
<div class="highlight-go notranslate"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
    <span class="s">&quot;fmt&quot;</span>
    <span class="s">&quot;strings&quot;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">s</span> <span class="o">:=</span> <span class="s">&quot;I_Love_Go_Web&quot;</span>
    <span class="nx">res</span> <span class="o">:=</span> <span class="nx">strings</span><span class="p">.</span><span class="nx">Split</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="s">&quot;_&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">value</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">res</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;key:%d value:%s\n&quot;</span><span class="p">,</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="cm">/*</span>
<span class="cm">key:0 value:I</span>
<span class="cm">key:1 value:Love</span>
<span class="cm">key:2 value:Go</span>
<span class="cm">key:3 value:Web</span>
<span class="cm">*/</span>
</pre></div>
</div>
<div class="highlight-go notranslate"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
    <span class="s">&quot;fmt&quot;</span>
    <span class="s">&quot;strings&quot;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">value</span> <span class="o">:=</span> <span class="s">&quot;a|b|c|d&quot;</span>
    <span class="c1">// 分割成3部分</span>
    <span class="nx">result</span> <span class="o">:=</span> <span class="nx">strings</span><span class="p">.</span><span class="nx">SplitN</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="s">&quot;|&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
    <span class="k">for</span> <span class="nx">v</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">result</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">result</span><span class="p">[</span><span class="nx">v</span><span class="p">])</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="cm">/*</span>
<span class="cm">a</span>
<span class="cm">b</span>
<span class="cm">c|d</span>
<span class="cm">*/</span>
</pre></div>
</div>
<div class="highlight-go notranslate"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
    <span class="s">&quot;fmt&quot;</span>
    <span class="s">&quot;strings&quot;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">s</span> <span class="o">:=</span> <span class="s">&quot;I_Love_Go_Web&quot;</span>
    <span class="nx">res</span> <span class="o">:=</span> <span class="nx">strings</span><span class="p">.</span><span class="nx">Split</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="s">&quot;_&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">res</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">res</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span>
    <span class="p">}</span>
    <span class="nx">res1</span> <span class="o">:=</span> <span class="nx">strings</span><span class="p">.</span><span class="nx">SplitN</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="s">&quot;_&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">res1</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">res1</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span>
    <span class="p">}</span>
    <span class="nx">res2</span> <span class="o">:=</span> <span class="nx">strings</span><span class="p">.</span><span class="nx">SplitAfter</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="s">&quot;_&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">res2</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">res2</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span>
    <span class="p">}</span>
    <span class="nx">res3</span> <span class="o">:=</span> <span class="nx">strings</span><span class="p">.</span><span class="nx">SplitAfterN</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="s">&quot;_&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">res3</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">res3</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-go notranslate"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
    <span class="s">&quot;fmt&quot;</span>
    <span class="s">&quot;strings&quot;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">value</span> <span class="o">:=</span> <span class="s">&quot;i&#39;m gopher&quot;</span>
    <span class="nx">result</span> <span class="o">:=</span> <span class="nx">strings</span><span class="p">.</span><span class="nx">SplitAfter</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">result</span> <span class="p">{</span>
        <span class="c1">// 获取字母</span>
        <span class="nx">letter</span> <span class="o">:=</span> <span class="nx">result</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span>
        <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">letter</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="id9">
<h2><a class="toc-backref" href="#id15"><span class="section-number">6.6.3. </span>3. regexp包的应用示例</a><a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">phone.go</span></code></p>
<div class="highlight-go notranslate"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
    <span class="s">&quot;fmt&quot;</span>
    <span class="s">&quot;regexp&quot;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">res2</span> <span class="o">:=</span> <span class="nx">findPhoneNumber</span><span class="p">(</span><span class="s">&quot;13688888888&quot;</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">res2</span><span class="p">)</span> <span class="c1">// true</span>

    <span class="nx">res2</span> <span class="p">=</span> <span class="nx">findPhoneNumber</span><span class="p">(</span><span class="s">&quot;02888888888&quot;</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">res2</span><span class="p">)</span> <span class="c1">// false</span>

    <span class="nx">res2</span> <span class="p">=</span> <span class="nx">findPhoneNumber</span><span class="p">(</span><span class="s">&quot;123456789&quot;</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">res2</span><span class="p">)</span> <span class="c1">// false</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nx">findPhoneNumber</span><span class="p">(</span><span class="nx">str</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">bool</span> <span class="p">{</span>
    <span class="c1">// 创建一个正则表达式匹配规则对象</span>
    <span class="nx">reg</span> <span class="o">:=</span> <span class="nx">regexp</span><span class="p">.</span><span class="nx">MustCompile</span><span class="p">(</span><span class="s">&quot;^1[1-9]{10}&quot;</span><span class="p">)</span>
    <span class="c1">// 利用正则表达式匹配规则对象匹配指定字符串</span>
    <span class="nx">res</span> <span class="o">:=</span> <span class="nx">reg</span><span class="p">.</span><span class="nx">FindAllString</span><span class="p">(</span><span class="nx">str</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">if</span> <span class="nx">res</span> <span class="o">==</span> <span class="kc">nil</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kc">false</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="kc">true</span>
<span class="p">}</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">email.go</span></code></p>
<div class="highlight-go notranslate"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
    <span class="s">&quot;fmt&quot;</span>
    <span class="s">&quot;regexp&quot;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">res</span> <span class="o">:=</span> <span class="nx">findEmail</span><span class="p">(</span><span class="s">&quot;8888@qq.com&quot;</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="c1">// true</span>

    <span class="nx">res</span> <span class="p">=</span> <span class="nx">findEmail</span><span class="p">(</span><span class="s">&quot;shir?don@qq.com&quot;</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="c1">// false</span>

    <span class="nx">res</span> <span class="p">=</span> <span class="nx">findEmail</span><span class="p">(</span><span class="s">&quot;8888@qqcom&quot;</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="c1">// false</span>
<span class="p">}</span>
<span class="kd">func</span> <span class="nx">findEmail</span><span class="p">(</span><span class="nx">str</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">bool</span> <span class="p">{</span>
    <span class="nx">reg</span> <span class="o">:=</span> <span class="nx">regexp</span><span class="p">.</span><span class="nx">MustCompile</span><span class="p">(</span><span class="s">&quot;^[a-zA-Z0-9_]+@[a-zA-Z0-9]+\\.[a-zA-Z0-9]+&quot;</span><span class="p">)</span>
    <span class="nx">res</span> <span class="o">:=</span> <span class="nx">reg</span><span class="p">.</span><span class="nx">FindAllString</span><span class="p">(</span><span class="nx">str</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">if</span> <span class="nx">res</span> <span class="o">==</span> <span class="kc">nil</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kc">false</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="kc">true</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="id10">
<h2><a class="toc-backref" href="#id16"><span class="section-number">6.6.4. </span>4. 根据正则表达式生成代码</a><a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h2>
<p>在线版</p>
<p><a class="reference external" href="https://regex101.com/">https://regex101.com/</a></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="5.%E5%A4%84%E7%90%86%E6%97%A5%E5%BF%97%E8%AE%B0%E5%BD%95.html" class="btn btn-neutral float-left" title="6.5. 处理日志记录" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../7.Go%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/index.html" class="btn btn-neutral float-right" title="7. Go并发编程" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, huxiaojian.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>